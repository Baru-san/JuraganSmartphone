package GUI;

import Classes.Smartphone;
import Classes.Pembeli;
import Databases.Database;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class Home extends javax.swing.JFrame implements ActionListener {

    public Home() {
        this.sp = new Smartphone[30];
        this.pembeli = new Pembeli();

        Database db = new Database();
        sp = db.buatObjekSmartphone();

        initComponents();
    }

    public Home(Pembeli pembeli) {
        this.sp = new Smartphone[30];
        this.pembeli = pembeli;


        Database db = new Database();
        sp = db.buatObjekSmartphone();

        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelHeader = new javax.swing.JPanel();
        fillerPreHeader = new javax.swing.Box.Filler(new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 32767));
        labelTitle = new javax.swing.JLabel();
        fillerMidHeader = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        labelEmail = new javax.swing.JLabel();
        fillerMid2Header = new javax.swing.Box.Filler(new java.awt.Dimension(10, 0), new java.awt.Dimension(10, 0), new java.awt.Dimension(10, 32767));
        labelUserProfile = new javax.swing.JLabel();
        labelBeliSp = new javax.swing.JLabel();
        fillerPosHeader = new javax.swing.Box.Filler(new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 32767));
        panelBody = new javax.swing.JPanel();
        scrollPaneMain = new javax.swing.JScrollPane();
        panelBackground = new javax.swing.JPanel();
        panelBodySupport = new javax.swing.JPanel();
        panelBodyBackground = new javax.swing.JPanel();
        panelProheadSupport = new javax.swing.JPanel();
        fillerPreAB = new javax.swing.Box.Filler(new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 32767));
        labelABTitle = new javax.swing.JLabel();
        panelProduk = new javax.swing.JPanel();
        panelProdukbg = new javax.swing.JPanel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Juragan Smartphone - menu utama");
        setMinimumSize(new java.awt.Dimension(600, 500));
        getContentPane().setLayout(new javax.swing.BoxLayout(getContentPane(), javax.swing.BoxLayout.PAGE_AXIS));

        panelHeader.setBackground(new java.awt.Color(204, 213, 174));
        panelHeader.setMaximumSize(new java.awt.Dimension(32767, 60));
        panelHeader.setMinimumSize(new java.awt.Dimension(800, 60));
        panelHeader.setPreferredSize(new java.awt.Dimension(800, 60));
        panelHeader.setLayout(new javax.swing.BoxLayout(panelHeader, javax.swing.BoxLayout.LINE_AXIS));
        panelHeader.add(fillerPreHeader);

        labelTitle.setText("Juragan Smartphone");
        panelHeader.add(labelTitle);
        panelHeader.add(fillerMidHeader);

        labelEmail.setForeground(new java.awt.Color(255, 255, 255));
        labelEmail.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        labelEmail.setText(pembeli.getNama());
        panelHeader.add(labelEmail);
        panelHeader.add(fillerMid2Header);

        labelUserProfile.setForeground(new java.awt.Color(255, 255, 255));
        labelUserProfile.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        labelUserProfile.setText("\uf007");
        labelUserProfile.setMaximumSize(new java.awt.Dimension(30, 30));
        labelUserProfile.setMinimumSize(new java.awt.Dimension(30, 30));
        labelUserProfile.setPreferredSize(new java.awt.Dimension(30, 30));
        labelUserProfile.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                labelUserProfileMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                labelUserProfileMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                labelUserProfileMouseExited(evt);
            }
        });
        panelHeader.add(labelUserProfile);

        labelBeliSp.setForeground(new java.awt.Color(255, 255, 255));
        labelBeliSp.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        labelBeliSp.setText("\uf07a");
        labelBeliSp.setMaximumSize(new java.awt.Dimension(30, 30));
        labelBeliSp.setMinimumSize(new java.awt.Dimension(30, 30));
        labelBeliSp.setPreferredSize(new java.awt.Dimension(30, 30));
        labelBeliSp.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                labelBeliSpMouseClicked(evt);
            }
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                labelBeliSpMouseEntered(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                labelBeliSpMouseExited(evt);
            }
        });
        panelHeader.add(labelBeliSp);
        panelHeader.add(fillerPosHeader);

        getContentPane().add(panelHeader);

        panelBody.setMinimumSize(new java.awt.Dimension(822, 460));
        panelBody.setPreferredSize(new java.awt.Dimension(822, 460));
        panelBody.setLayout(new java.awt.BorderLayout());

        scrollPaneMain.setBorder(null);
        scrollPaneMain.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        scrollPaneMain.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);
        scrollPaneMain.setMinimumSize(new java.awt.Dimension(822, 460));
        scrollPaneMain.getVerticalScrollBar().setUnitIncrement(8);

        panelBackground.setBackground(new java.awt.Color(254, 250, 224));
        panelBackground.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        panelBackground.setLayout(new javax.swing.BoxLayout(panelBackground, javax.swing.BoxLayout.PAGE_AXIS));

        panelBodySupport.setBackground(new java.awt.Color(254, 250, 224));
        panelBodySupport.setLayout(new java.awt.BorderLayout());

        panelBodyBackground.setBackground(new java.awt.Color(233, 237, 201));
        panelBodyBackground.setLayout(new javax.swing.BoxLayout(panelBodyBackground, javax.swing.BoxLayout.PAGE_AXIS));

        panelProheadSupport.setBackground(new java.awt.Color(233, 237, 201));
        panelProheadSupport.setMaximumSize(new java.awt.Dimension(2147483647, 50));
        panelProheadSupport.setMinimumSize(new java.awt.Dimension(258, 50));
        panelProheadSupport.setPreferredSize(new java.awt.Dimension(805, 50));
        panelProheadSupport.setLayout(new javax.swing.BoxLayout(panelProheadSupport, javax.swing.BoxLayout.LINE_AXIS));
        panelProheadSupport.add(fillerPreAB);

        labelABTitle.setText("Produk");
        labelABTitle.setMaximumSize(new java.awt.Dimension(164, 50));
        labelABTitle.setMinimumSize(new java.awt.Dimension(164, 50));
        labelABTitle.setPreferredSize(new java.awt.Dimension(164, 50));
        panelProheadSupport.add(labelABTitle);

        panelBodyBackground.add(panelProheadSupport);

        panelProduk.setBackground(new java.awt.Color(254, 250, 224));
        panelProduk.setLayout(new java.awt.BorderLayout());

        panelProdukbg.setBackground(new java.awt.Color(254, 250, 224));
        panelProdukbg.setMaximumSize(new java.awt.Dimension(32767, 25));
        panelProdukbg.setMinimumSize(new java.awt.Dimension(0, 25));
        panelProdukbg.setLayout(new javax.swing.BoxLayout(panelProdukbg, javax.swing.BoxLayout.PAGE_AXIS));
        panelProduk.add(panelProdukbg, java.awt.BorderLayout.CENTER);
        ListSP();

        panelBodyBackground.add(panelProduk);

        panelBodySupport.add(panelBodyBackground, java.awt.BorderLayout.CENTER);

        panelBackground.add(panelBodySupport);

        scrollPaneMain.setViewportView(panelBackground);

        panelBody.add(scrollPaneMain, java.awt.BorderLayout.CENTER);

        getContentPane().add(panelBody);

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void labelBeliSpMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelBeliSpMouseClicked

            Konfirmasi Konf = new Konfirmasi(pembeli);
            Konf.setLocation(getLocation());
            Konf.setVisible(true);

            if (getExtendedState() == MAXIMIZED_BOTH) {
                Konf.setExtendedState(MAXIMIZED_BOTH);
            } else {
                Konf.setSize(getSize());
            }

            dispose();
        
    }//GEN-LAST:event_labelBeliSpMouseClicked

    private void labelUserProfileMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelUserProfileMouseClicked

            InfoPengguna Ip = new InfoPengguna(this, pembeli);
            Ip.setLocationRelativeTo(null);
            Ip.setVisible(true);
        
    }//GEN-LAST:event_labelUserProfileMouseClicked

    private void labelUserProfileMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelUserProfileMouseEntered
        labelUserProfile.setForeground(new java.awt.Color(233, 237, 201));
    }//GEN-LAST:event_labelUserProfileMouseEntered

    private void labelUserProfileMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelUserProfileMouseExited
        labelUserProfile.setForeground(new java.awt.Color(255, 255, 255));
    }//GEN-LAST:event_labelUserProfileMouseExited

    private void labelBeliSpMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelBeliSpMouseEntered
        labelBeliSp.setForeground(new java.awt.Color(233, 237, 201));
    }//GEN-LAST:event_labelBeliSpMouseEntered

    private void labelBeliSpMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_labelBeliSpMouseExited
        labelBeliSp.setForeground(new java.awt.Color(255, 255, 255));
    }//GEN-LAST:event_labelBeliSpMouseExited


    private void ListSP() {
        int size = 20;

        panelSPLoop = new javax.swing.JPanel[size];
        fillerSPLoopPre = new javax.swing.Box.Filler[size];
        labelSPLoop1 = new javax.swing.JLabel[size];
        fillerSPLoop = new javax.swing.Box.Filler[size];
        fillerSPLoopPos = new javax.swing.Box.Filler[size];
        buybtnLoop = new javax.swing.JButton[size];

        for (int i = 0; i < size; i++) {
            panelSPLoop[i] = new javax.swing.JPanel();
            fillerSPLoopPre[i] = new javax.swing.Box.Filler(new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 0), new java.awt.Dimension(20, 32767));
            labelSPLoop1[i] = new javax.swing.JLabel();
            fillerSPLoop[i] = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
            fillerSPLoopPos[i] = new javax.swing.Box.Filler(new java.awt.Dimension(30, 0), new java.awt.Dimension(30, 0), new java.awt.Dimension(30, 32767));
            buybtnLoop[i] = new javax.swing.JButton();

            panelSPLoop[i].setBackground(new java.awt.Color(254, 250, 224));
            panelSPLoop[i].setMaximumSize(new java.awt.Dimension(32767, 30));
            panelSPLoop[i].setMinimumSize(new java.awt.Dimension(0, 30));
            panelSPLoop[i].setLayout(new javax.swing.BoxLayout(panelSPLoop[i], javax.swing.BoxLayout.LINE_AXIS));
            panelSPLoop[i].add(fillerSPLoopPre[i]);

            labelSPLoop1[i].setText(sp[i].getNama());
            labelSPLoop1[i].setMaximumSize(new java.awt.Dimension(600, 30));
            labelSPLoop1[i].setMinimumSize(new java.awt.Dimension(500, 30));
            panelSPLoop[i].add(labelSPLoop1[i]);
            panelSPLoop[i].add(fillerSPLoop[i]);

            buybtnLoop[i].setText("beli");
            buybtnLoop[i].setMinimumSize(new java.awt.Dimension(50, 25));
            buybtnLoop[i].setPreferredSize(new java.awt.Dimension(100, 50));
            panelSPLoop[i].add(buybtnLoop[i]);
            panelSPLoop[i].add(fillerSPLoopPos[i]);
              
            buybtnLoop[i].addActionListener(this);

            buybtnLoop[i].setName("" + i);
            panelSPLoop[i].setName("" + i);

            panelSPLoop[i].addMouseListener(new java.awt.event.MouseAdapter() {
                public void mouseClicked(java.awt.event.MouseEvent evt) {
                    panelSPLoopMouseClicked(evt);
                }
            });

            panelProdukbg.add(panelSPLoop[i]);
        }
    }

    private String getStar(double rating) {
        String stars = "";

        for (int i = 0; i < (int) rating; i++) {
            stars += "\uf005";
        }

        if (rating - (int) rating == 0.5) {
            stars += "\uf089";
        }

        return stars;
    }

    private void panelSPLoopMouseClicked(java.awt.event.MouseEvent evt) {
        javax.swing.JPanel panel = (javax.swing.JPanel) evt.getSource();
        int num = Integer.parseInt(panel.getName());

        LihatSmartphone dLB = new LihatSmartphone(this, sp[num], pembeli);
        dLB.setLocationRelativeTo(null);
        dLB.setVisible(true);
    }
    
    @Override
    public void actionPerformed(ActionEvent e) {
        javax.swing.JButton button = (javax.swing.JButton) e.getSource();
        int num = Integer.parseInt(button.getName());
        
        LihatSmartphone dLB = new LihatSmartphone(this, sp[num], pembeli);
        dLB.beli();
    }

    // Variables for Looping Listed product
    private javax.swing.JPanel[] panelSPLoop;
    private javax.swing.Box.Filler[] fillerSPLoop;
    private javax.swing.Box.Filler[] fillerSPLoopPre;
    private javax.swing.Box.Filler[] fillerSPLoopPos;
    private javax.swing.JLabel[] labelSPLoop1;
    private javax.swing.JButton[] buybtnLoop;

    private Smartphone[] sp;
    private final Pembeli pembeli;

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.Box.Filler fillerMid2Header;
    private javax.swing.Box.Filler fillerMidHeader;
    private javax.swing.Box.Filler fillerPosHeader;
    private javax.swing.Box.Filler fillerPreAB;
    private javax.swing.Box.Filler fillerPreHeader;
    private javax.swing.JLabel labelABTitle;
    private javax.swing.JLabel labelBeliSp;
    private javax.swing.JLabel labelEmail;
    private javax.swing.JLabel labelTitle;
    private javax.swing.JLabel labelUserProfile;
    private javax.swing.JPanel panelBackground;
    private javax.swing.JPanel panelBody;
    private javax.swing.JPanel panelBodyBackground;
    private javax.swing.JPanel panelBodySupport;
    private javax.swing.JPanel panelHeader;
    private javax.swing.JPanel panelProduk;
    private javax.swing.JPanel panelProdukbg;
    private javax.swing.JPanel panelProheadSupport;
    private javax.swing.JScrollPane scrollPaneMain;
    // End of variables declaration//GEN-END:variables
}
